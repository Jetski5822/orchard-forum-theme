@{ 
    Script.Require("OrchardMarkdown");
    Style.Require("OrchardMarkdown");
    string idPostfix = @Html.FieldIdFor(m => m);
}
<div class="wmd-box has-grip">
    <div class="wmd-innerbox">
        <div class="wmd-editor-box">
            <div id="wmd-button-bar-@idPostfix" class="wmd-button-bar"></div>

            @Html.TextArea("Text", (string)Model.Text, 25, 80,
                           new Dictionary<string, object> {
                               {"id", "wmd-input" + "-" + idPostfix},
                               {"class", "wmd-input"},
                               {"data-mediapicker-uploadpath", Model.AddMediaPath},
                               {"data-mediapicker-title", T("Insert/Update Media")}
                           })
        </div>

        <div class="wmd-preview-box">
            <div id="wmd-preview-@idPostfix" class="wmd-panel wmd-preview"></div>
        </div>
    </div>
</div>